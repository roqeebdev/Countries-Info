{"ast":null,"code":"import _slicedToArray from\"C:/Users/akiny/rest-countries/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var getInitialTheme=function getInitialTheme(){if(typeof window!==\"undefined\"&&window.localStorage){var storedPrefs=window.localStorage.getItem(\"current-theme\");if(typeof storedPrefs===\"string\"){return storedPrefs;}if(window.matchMedia(\"(prefers-color-scheme: dark)\").matches){return\"dark\";}return\"light\";}};export var ThemeProvider=function ThemeProvider(_ref){var initialTheme=_ref.initialTheme,children=_ref.children;var _useState=useState(getInitialTheme),_useState2=_slicedToArray(_useState,2),theme=_useState2[0],setTheme=_useState2[1];var checkTheme=function checkTheme(existing){var root=window.document.documentElement;var isDark=existing===\"dark\";root.classList.remove(isDark?'light':'dark');root.classList.add(existing);localStorage.setItem('current-theme',existing);};if(initialTheme){checkTheme(initialTheme);}useEffect(function(){checkTheme(theme);},[theme]);return/*#__PURE__*/_jsx(ThemeContext.Provider,{value:{theme:theme,setTheme:setTheme},children:children});};export var ThemeContext=/*#__PURE__*/React.createContext();","map":{"version":3,"names":["useState","useEffect","React","getInitialTheme","window","localStorage","storedPrefs","getItem","matchMedia","matches","ThemeProvider","initialTheme","children","theme","setTheme","checkTheme","existing","root","document","documentElement","isDark","classList","remove","add","setItem","ThemeContext","createContext"],"sources":["C:/Users/akiny/rest-countries/src/themeContext.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport React from 'react';\r\n\r\nconst getInitialTheme = () => {\r\n    if (typeof window !== \"undefined\" && window.localStorage) {\r\n        const storedPrefs = window.localStorage.getItem(\"current-theme\");\r\n        if (typeof storedPrefs === \"string\") {\r\n            return storedPrefs;\r\n        }\r\n        if(window.matchMedia(\"(prefers-color-scheme: dark)\").matches){\r\n            return \"dark\"\r\n        }\r\n        return \"light\";\r\n    }\r\n}\r\n\r\n\r\nexport const ThemeProvider = ({ initialTheme, children}) => {\r\n    const [theme, setTheme] = useState(getInitialTheme);\r\n\r\n    const checkTheme = (existing) => {\r\n        const root = window.document.documentElement;\r\n        const isDark = existing === \"dark\";\r\n\r\n        root.classList.remove(isDark ? 'light' : 'dark');\r\n        root.classList.add(existing);\r\n    \r\n        localStorage.setItem('current-theme', existing);\r\n      };\r\n    \r\n      if (initialTheme) {\r\n        checkTheme(initialTheme);\r\n      }\r\n    \r\n      useEffect(() => {\r\n        checkTheme(theme);\r\n      }, [theme]);\r\n    \r\n      return (\r\n        <ThemeContext.Provider value={{ theme, setTheme }}>\r\n          {children}\r\n        </ThemeContext.Provider>\r\n      );\r\n}\r\n\r\nexport const ThemeContext = React.createContext();"],"mappings":"mHAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC1B,GAAI,MAAOC,OAAP,GAAkB,WAAlB,EAAiCA,MAAM,CAACC,YAA5C,CAA0D,CACtD,GAAMC,YAAW,CAAGF,MAAM,CAACC,YAAP,CAAoBE,OAApB,CAA4B,eAA5B,CAApB,CACA,GAAI,MAAOD,YAAP,GAAuB,QAA3B,CAAqC,CACjC,MAAOA,YAAP,CACH,CACD,GAAGF,MAAM,CAACI,UAAP,CAAkB,8BAAlB,EAAkDC,OAArD,CAA6D,CACzD,MAAO,MAAP,CACH,CACD,MAAO,OAAP,CACH,CACJ,CAXD,CAcA,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,MAA+B,IAA5BC,aAA4B,MAA5BA,YAA4B,CAAdC,QAAc,MAAdA,QAAc,CACxD,cAA0BZ,QAAQ,CAACG,eAAD,CAAlC,wCAAOU,KAAP,eAAcC,QAAd,eAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,QAAD,CAAc,CAC7B,GAAMC,KAAI,CAAGb,MAAM,CAACc,QAAP,CAAgBC,eAA7B,CACA,GAAMC,OAAM,CAAGJ,QAAQ,GAAK,MAA5B,CAEAC,IAAI,CAACI,SAAL,CAAeC,MAAf,CAAsBF,MAAM,CAAG,OAAH,CAAa,MAAzC,EACAH,IAAI,CAACI,SAAL,CAAeE,GAAf,CAAmBP,QAAnB,EAEAX,YAAY,CAACmB,OAAb,CAAqB,eAArB,CAAsCR,QAAtC,EACD,CARH,CAUE,GAAIL,YAAJ,CAAkB,CAChBI,UAAU,CAACJ,YAAD,CAAV,CACD,CAEDV,SAAS,CAAC,UAAM,CACdc,UAAU,CAACF,KAAD,CAAV,CACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,mBACE,KAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,CAAE,CAAEA,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAA9B,UACGF,QADH,EADF,CAKL,CA1BM,CA4BP,MAAO,IAAMa,aAAY,cAAGvB,KAAK,CAACwB,aAAN,EAArB"},"metadata":{},"sourceType":"module"}